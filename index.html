<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>❤️ Love Journey with Katie</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<body>
<div class="hearts-bg"></div>
  <div class="hearts-container"></div>
  <div class="love-messages-container"></div>

  <div class="container">
    <h1>
      It's been <span class="heart">❤️</span>
    </h1>
    <p class="subtext" id="love-time"></p>
    <p class="subtext quote" id="daily-quote"></p>
    <p class="subtext">Celebrating our beautiful journey together 💕</p>

    <section class="timeline">
      <h2>Our Love Timeline</h2>
      <div class="event">
        <h3>Feb 14, 2025</h3>
        <p>First Time Talking 😊</p>
      </div>
      <div class="event">
        <h3>Feb 14, 2025</h3>
        <p>First We Said "I Love You" 💞</p>
      </div>
      <div class="event">
        <h3>Feb 14, 2025</h3>
        <p>First Valentine's Day Together And The Day We Met And Got Together 💘</p>
      </div>
      <div class="event">
        <h3>2026 Soon To Happen</h3>
        <p>Soon To Be Engaged 💍</p>
      </div>
      <div class="event">
        <h3>Feb 14, 2026</h3>
        <p>First Time Meeting ✈️</p>
      </div>
    </section>

    <section class="games">
      <h2>Games We Love</h2>
      <ul>
        <li class="game-item roblox-game">Roblox</li>
        <li class="game-item starstable-game">Star Stable</li>
      </ul>
    </section>

    <section class="artists">
      <h2>Artists We Adore <i class="fas fa-heartbeat"></i></h2>
      <ul>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Lil Peep</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Mr Kitty</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Bad Omens</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Taylor Swift</li>
      </ul>
    </section>

    <p class="subtext countdown" id="next-countdown"></p>
    <p class="subtext countdown" id="meeting-countdown"></p> <!-- New countdown here -->

    <div class="love-letter-trigger">💌 Open Love Letter</div>
  </div>

  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeModal">&times;</button>
      <h2>My Dearest Katie,</h2>
      <p>
        Every moment with you fills my heart with joy and my soul with love. Thank you for being my forever Valentine.
      </p>
      <p>
        Here's to many more days, hours, and seconds together, making memories and building our story.
      </p>
      <p>With all my love, ❤️</p>
      <p><em>Your Partner Dayshan</em></p>
    </div>
  </div>

  <!-- Anniversary Popup -->
  <div class="anniversary-popup" id="anniversaryPopup">
    <div class="anniversary-popup-content">
      <button class="anniversary-close-btn" id="closeAnniversaryPopup">&times;</button>
      <h2>🎉 Happy Anniversary, My Love! ❤️</h2>
      <p>Today marks another beautiful milestone in our journey together.</p>
      <p>May our love continue to shine brighter with each passing year!</p>
      <p>Forever and always, with all my heart.</p>
      <div class="anniversary-hearts">💖✨💕</div>
    </div>
  </div>

<!-- Frosted Glass Compact Music Player -->
<div class="music-player">
  <div class="controls">
    <button class="control-btn" id="prevBtn" title="Previous">
      <i class="fas fa-backward"></i>
    </button>
    <button class="control-btn" id="toggleBtn" title="Play/Pause">
      <i class="fas fa-play"></i>
    </button>
    <button class="control-btn" id="nextBtn" title="Next">
      <i class="fas fa-forward"></i>
    </button>
    <button class="control-btn" id="loopBtn" title="Loop">
      <i class="fas fa-redo"></i>
    </button>
  </div>

  <div class="progress-container" id="progressContainer">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="volume-control">
    <i class="fas fa-volume-up volume-icon"></i>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" />
  </div>

  <audio id="backgroundMusic" preload="auto" loop>
    <source src="your-audio-file.mp3" type="audio/mpeg" />
  </audio>
</div>


  <script>
    // ===== Time Counter =====
    const loveTimeEl = document.getElementById('love-time');
    function updateTime() {
      const startDate = new Date('2025-02-14T00:00:00');
      const now = new Date();
      const diff = now - startDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      loveTimeEl.textContent = `${days} days, ${hours} hours, ${minutes} minutes, and ${seconds} seconds`;
    }
    updateTime();
    setInterval(updateTime, 1000);

    // ===== Daily Quote with Typing Animation =====
    const quotes = [
      "You are my today and all of my tomorrows. 💖",
      "Every love story is beautiful, but ours is my favorite. 💕",
      "I still get butterflies even though I’ve seen you a hundred times. 🦋",
      "You’re the reason I believe in love. ❤️",
      "With you, forever isn't long enough. 🌹",
      "Love is composed of a single soul inhabiting two bodies. 💫",
      "You’re my favorite notification. 💌"
    ];
    const quoteEl = document.getElementById('daily-quote');
    const dayIndex = new Date().getDate() % quotes.length;
    function typeText(text, element, speed = 50) {
      let i = 0;
      element.textContent = '';
      function typing() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typing, speed);
        }
      }
      typing();
    }
    typeText(quotes[dayIndex], quoteEl);

    // ===== Floating Hearts and Love Messages =====
    const heartsContainer = document.querySelector('.hearts-container');
    const messagesContainer = document.querySelector('.love-messages-container');
    const loveMessages = [
      "I love you", "Forever yours", "My Valentine 💘", "You + Me", "Soulmates", "Endless Love", "You & Me"
    ];
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart-float');
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = 3 + Math.random() * 2 + "s";
      heart.style.opacity = (0.3 + Math.random() * 0.7).toFixed(2);
      heart.innerHTML = "💗";
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }
    function createLoveMessage() {
      const message = document.createElement('div');
      message.classList.add('love-message-float');
      message.style.left = Math.random() * 100 + "vw";
      message.style.animationDuration = 5 + Math.random() * 3 + "s";
      message.style.opacity = (0.5 + Math.random() * 0.5).toFixed(2);
      message.textContent = loveMessages[Math.floor(Math.random() * loveMessages.length)];
      messagesContainer.appendChild(message);
      setTimeout(() => message.remove(), 7000);
    }
    setInterval(createHeart, 300);
    setInterval(createLoveMessage, 2000);

    // ===== Countdown to Next Special Date: Feb 14, 2026 =====
    const countdownEl = document.getElementById('next-countdown');
    const nextSpecialDate = new Date('2026-02-14T00:00:00');
    function updateCountdown() {
      const now = new Date();
      const diff = nextSpecialDate - now;
      if (diff <= 0) {
        countdownEl.textContent = "Today is our special day! ❤️";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      countdownEl.textContent = `Only ${days}d ${hours}h ${minutes}m ${seconds}s until our next Valentine's Day! 💝`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ===== Countdown to Meeting Date: Feb 14, 2026 =====
    const meetingCountdownEl = document.getElementById('meeting-countdown');
    const meetingDate = new Date('2026-02-14T00:00:00');
    function updateMeetingCountdown() {
      const now = new Date();
      const diff = meetingDate - now;
      if (diff <= 0) {
        meetingCountdownEl.textContent = "We have met! ✈️❤️";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      meetingCountdownEl.textContent = `Only ${days}d ${hours}h ${minutes}m ${seconds}s until we meet! ✈️💕`;
    }
    updateMeetingCountdown();
    setInterval(updateMeetingCountdown, 1000);

    // ===== Modal Logic for Love Letter =====
    const modal = document.getElementById('modal');
    const loveLetterTrigger = document.querySelector('.love-letter-trigger');
    const closeModalBtn = document.getElementById('closeModal');
    loveLetterTrigger.addEventListener('click', () => {
      modal.style.display = 'flex';
    });
    closeModalBtn.addEventListener('click', () => {
      modal.style.display = 'none';
    });
    window.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });

    // ===== Anniversary Popup Logic =====
    const anniversaryPopup = document.getElementById('anniversaryPopup');
    const closeAnniversaryPopupBtn = document.getElementById('closeAnniversaryPopup');

    function checkAnniversary() {
      const today = new Date();
      const currentYear = today.getFullYear();
      // February is month 1 (0-indexed), 14th is the date
      const isAnniversaryDay = today.getMonth() === 1 && today.getDate() === 14;
      
      // Create a unique key for localStorage for the current year's anniversary
      const localStorageKey = `anniversaryPopupShown_${currentYear}`;

      if (isAnniversaryDay) {
        // Check if the popup has already been shown for this year's anniversary
        if (!localStorage.getItem(localStorageKey)) {
          anniversaryPopup.classList.add('visible');
          // Set the flag in localStorage so it doesn't show again automatically today
          localStorage.setItem(localStorageKey, 'true');
        }
      }
    }

    if (closeAnniversaryPopupBtn) {
      closeAnniversaryPopupBtn.addEventListener('click', () => {
        anniversaryPopup.classList.add('closing'); // Add class to trigger closing animation
        // Wait for animation to finish before hiding
        setTimeout(() => {
          anniversaryPopup.classList.remove('visible');
          anniversaryPopup.classList.remove('closing'); // Reset class
        }, 400); // Duration should match animation-duration in CSS
      });
    }
    
    // Check for anniversary when the page loads
    window.addEventListener('DOMContentLoaded', checkAnniversary);

  </script>
  <script>
window.addEventListener('DOMContentLoaded', () => {
  const audio       = document.getElementById('backgroundMusic');
  const playBtn     = document.getElementById('toggleBtn');
  const prevBtn     = document.getElementById('prevBtn');
  const nextBtn     = document.getElementById('nextBtn');
  const loopBtn     = document.getElementById('loopBtn');
  const progressBar = document.getElementById('progressBar');
  const progCont    = document.getElementById('progressContainer');
  const volSlider   = document.getElementById('volumeSlider');
  const volIcon     = document.querySelector('.volume-icon');
  const timeEl      = document.querySelector('.track-time');

  // If you have multiple tracks, define them here:
  const playlist = [
  { src: 'assets/music/music1.mp3', title: 'Song 1' },
  { src: 'assets/music/music2.mp3', title: 'Song 2' },
  ];
  let currentIndex = 0;

  function formatTime(sec) {
    const m = Math.floor(sec / 60).toString().padStart(2,'0');
    const s = Math.floor(sec % 60).toString().padStart(2,'0');
    return `${m}:${s}`;
  }

  function loadTrack(i) {
    const track = playlist[i];
    audio.src = track.src;
    audio.load();
    // optionally show title: document.querySelector('.track-info').textContent = track.title;
    playBtn.innerHTML = '<i class="fas fa-play"></i>';
  }

  // initialize
  loadTrack(currentIndex);
  audio.volume = volSlider.value = 0.5;
  loopBtn.classList.toggle('active', audio.loop);

  playBtn.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playBtn.innerHTML = '<i class="fas fa-pause"></i>';
    } else {
      audio.pause();
      playBtn.innerHTML = '<i class="fas fa-play"></i>';
    }
  });
  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
  });
  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
  });
  loopBtn.addEventListener('click', () => {
    audio.loop = !audio.loop;
    loopBtn.classList.toggle('active', audio.loop);
    loopBtn.style.color = audio.loop ? '#ff1493' : '';
  });

  audio.addEventListener('timeupdate', () => {
    if (!isNaN(audio.duration)) {
      const pct = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = pct + '%';
      // compute remaining:
      const remain = audio.duration - audio.currentTime;
      timeEl.textContent = `${formatTime(audio.currentTime)} / -${formatTime(remain)}`;
    }
  });

  progCont.addEventListener('click', e => {
    const rect = progCont.getBoundingClientRect();
    audio.currentTime = ((e.clientX - rect.left) / rect.width) * audio.duration;
  });

  volSlider.addEventListener('input', () => {
    audio.volume = volSlider.value;
    if (audio.volume === 0)        volIcon.className = 'fas fa-volume-mute volume-icon';
    else if (audio.volume < 0.5)   volIcon.className = 'fas fa-volume-down volume-icon';
    else                            volIcon.className = 'fas fa-volume-up volume-icon';
  });

  audio.addEventListener('ended', () => {
    if (!audio.loop) nextBtn.click();
  });

  // Set initial time display once metadata loads
  audio.addEventListener('loadedmetadata', () => {
    timeEl.textContent = `00:00 / -${formatTime(audio.duration)}`;
  });
});
</script>
<script>
    (function() {
  // 1) list your asset paths (adjust extensions if needed)
  const backgrounds = [
    'assets/background/back1.png',
    'assets/background/back2.png',
    'assets/background/back3.png'
  ];

  // 2) start on a random one (optional)
  let idx = Math.floor(Math.random() * backgrounds.length);

  // 3) function to update the body background with cache-busting
  function setBackground(i) {
    const url = `${backgrounds[i]}?v=${Date.now()}`;
    document.body.style.backgroundImage = `url('${url}')`;
  }

  // 4) initial kick-off
  setBackground(idx);

  // 5) change every N milliseconds (e.g. 10 seconds = 10000ms)
  setInterval(() => {
    idx = (idx + 1) % backgrounds.length;
    setBackground(idx);
  }, 10000);
})();
  </script>
<script>
// ===== Global Falling Hearts Animation =====
(function() {
  const globalHeartsBg = document.querySelector('.global-hearts-bg');
  function createGlobalHeart() {
    const heart = document.createElement('div');
    heart.classList.add('global-heart-float');
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (3 + Math.random() * 2) + 's';
    heart.style.opacity = (0.15 + Math.random() * 0.25).toFixed(2); // lighter for background
    heart.innerHTML = '💗';
    globalHeartsBg.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createGlobalHeart, 200);
})();
  </script>
<script>
// Falling hearts animation
(function() {
  const heartsBg = document.querySelector('.hearts-bg');
  const colors = ['#ffb6c1', '#ff69b4', '#ff1493', '#ff85a1', '#ffb3de'];
  const numHearts = 30;

  function randomBetween(a, b) {
    return a + Math.random() * (b - a);
  }

  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = randomBetween(0, 100) + 'vw';
    heart.style.animationDuration = randomBetween(4, 8) + 's';
    heart.style.opacity = randomBetween(0.7, 1);
    heart.style.background = `linear-gradient(135deg, ${colors[Math.floor(Math.random()*colors.length)]} 0%, ${colors[Math.floor(Math.random()*colors.length)]} 100%)`;
    heart.style.transform = `rotate(-45deg) scale(${randomBetween(0.7, 1.2)})`;
    heartsBg.appendChild(heart);
    setTimeout(() => {
      heart.remove();
    }, 8000);
  }

  setInterval(createHeart, 300);
  for (let i = 0; i < numHearts; i++) {
    setTimeout(createHeart, i * 200);
  }
})();
  </script>
</body>
</html>
</body>
</html>
