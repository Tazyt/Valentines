<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíñ Love Journey with Katie</title>
  <link rel="stylesheet" href="styles.css" id="mainStylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
</head>
<body>
  <!-- Remove pastel-gradient-bg and pastel-overlay to keep your custom backgrounds visible -->
  <!-- <div class="pastel-gradient-bg"></div> -->
  <!-- <div class="pastel-overlay"></div> -->
  <div class="hearts-bg"></div>
  <div class="hearts-container"></div>
  <div class="love-messages-container"></div>
  <div class="cute-sparkles"></div>

  <div class="container cute-shadow readable">
    <header class="cute-header">
      <div class="cute-title-row">
        <span class="cute-heart-emoji">‚ù§Ô∏è</span>
        <span class="cute-title">Katie & Dayshan</span>
        <span class="cute-heart-emoji">‚ù§Ô∏è</span>
        <span class="cute-sparkle"><i class="fas fa-sparkles"></i></span>
      </div>
      <p class="cute-subtitle">Our Adorable Love Story <span class="cute-sparkle">‚ú®</span></p>
    </header>

    <!-- Only the cutest couple caption, no photo frames -->
    <div class="cutest-couple-caption">Cutest Couple üíë</div>

    <section class="cute-time-section">
      <div class="cute-time-box">
        <span class="cute-clock"><i class="fas fa-clock"></i></span>
        <span id="love-time" class="cute-time"></span>
      </div>
      <div class="cute-quote" id="daily-quote"></div>
      <div class="cute-journey">Celebrating our beautiful journey together <span class="cute-sparkle">üíï</span></div>
    </section>

    <section class="timeline cute-section">
      <h2><i class="fas fa-calendar-heart"></i> Our Love Timeline</h2>
      <div class="event"><h3>Feb 14, 2025</h3><p>First "I Love You" <span>üíû</span></p></div>
      <div class="event"><h3>Feb 14, 2025</h3><p>First Valentine's Day & Got Together <span>üíò</span></p></div>
      <div class="event"><h3>Feb 14, 2026</h3><p>First Time Meeting <span>‚úàÔ∏è</span></p></div>
      <div class="event"><h3>2026 (Soon!)</h3><p>üëÄ Propsal Maybe üëÄ <span></span></p></div>
    </section>

    <section class="games cute-section">
      <h2><i class="fas fa-gamepad"></i> Games We Love</h2>
      <ul>
        <li class="game-item roblox-game">Roblox</li>
        <li class="game-item starstable-game">Star Stable</li>
      </ul>
    </section>

    <section class="artists cute-section">
      <h2><i class="fas fa-music"></i> Artists We Adore <i class="fas fa-heartbeat"></i></h2>
      <ul>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Lil Peep</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Mr Kitty</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Bad Omens</li>
        <li class="artist-item"><i class="fas fa-headphones-alt artist-icon"></i> Taylor Swift</li>
      </ul>
    </section>

    <div class="cute-countdowns">
      <p class="subtext countdown" id="next-countdown"></p>
      <p class="subtext countdown" id="meeting-countdown"></p>
    </div>
  </div>

  <!-- Floating cute heart button for love letter, now with text -->
  <button class="love-letter-fab love-letter-fab-wide" title="Open Love Letter" id="loveLetterFab">
    <i class="fas fa-envelope-heart"></i>
    <span class="fab-text">Open Me</span>
  </button>

  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeModal">&times;</button>
      <h2>My Dearest Katie,</h2>
      <p>
        Every moment with you fills my heart with joy and my soul with love. Thank you for being my forever Valentine.
      </p>
      <p>
        Here's to many more days, hours, and seconds together, making memories and building our story.
      </p>
      <p>With all my love, ‚ù§Ô∏è</p>
      <p><em>Your Partner Dayshan</em></p>
    </div>
  </div>

  <!-- Anniversary Popup -->
  <div class="anniversary-popup" id="anniversaryPopup">
    <div class="anniversary-popup-content">
      <button class="anniversary-close-btn" id="closeAnniversaryPopup">&times;</button>
      <h2>üéâ Happy Anniversary, My Love! ‚ù§Ô∏è</h2>
      <p>Today marks another beautiful milestone in our journey together.</p>
      <p>May our love continue to shine brighter with each passing year!</p>
      <p>Forever and always, with all my heart.</p>
      <div class="anniversary-hearts">üíñ‚ú®üíï</div>
    </div>
  </div>

  <!-- Frosted Glass Compact Music Player -->
  <div class="music-player">
    <div class="controls">
      <button class="control-btn" id="prevBtn" title="Previous">
        <i class="fas fa-backward"></i>
      </button>
      <button class="control-btn" id="toggleBtn" title="Play/Pause">
        <i class="fas fa-play"></i>
      </button>
      <button class="control-btn" id="nextBtn" title="Next">
        <i class="fas fa-forward"></i>
      </button>
      <button class="control-btn" id="loopBtn" title="Loop">
        <i class="fas fa-redo"></i>
      </button>
    </div>
    <div class="progress-container" id="progressContainer">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="volume-control">
      <i class="fas fa-volume-up volume-icon"></i>
      <input type="range" id="volumeSlider" min="0" max="1" step="0.01" />
    </div>
    <audio id="backgroundMusic" preload="auto" loop>
      <source src="your-audio-file.mp3" type="audio/mpeg" />
    </audio>
    <div class="track-info"></div>
    <div class="track-time"></div>
  </div>

  <script>
    // ===== Time Counter =====
    const loveTimeEl = document.getElementById('love-time');
    function updateTime() {
      const startDate = new Date('2025-02-14T00:00:00');
      const now = new Date();
      const diff = now - startDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      loveTimeEl.textContent = `${days} days, ${hours} hours, ${minutes} minutes, and ${seconds} seconds`;
    }
    updateTime();
    setInterval(updateTime, 1000);

    // ===== Daily Quote with Typing Animation =====
    const quotes = [
      "You are my today and all of my tomorrows. üíñ",
      "Every love story is beautiful, but ours is my favorite. üíï",
      "I still get butterflies even though I‚Äôve seen you a hundred times. ü¶ã",
      "You‚Äôre the reason I believe in love. ‚ù§Ô∏è",
      "With you, forever isn't long enough. üåπ",
      "Love is composed of a single soul inhabiting two bodies. üí´",
      "You‚Äôre my favorite notification. üíå"
    ];
    const quoteEl = document.getElementById('daily-quote');
    const dayIndex = new Date().getDate() % quotes.length;
    function typeText(text, element, speed = 50) {
      let i = 0;
      element.textContent = '';
      function typing() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typing, speed);
        }
      }
      typing();
    }
    typeText(quotes[dayIndex], quoteEl);

    // ===== Floating Hearts and Love Messages =====
    const heartsContainer = document.querySelector('.hearts-container');
    const messagesContainer = document.querySelector('.love-messages-container');
    const loveMessages = [
      "I love you", "Forever yours", "My Valentine üíò", "You + Me", "Soulmates", "Endless Love", "You & Me"
    ];
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart-float');
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = 3 + Math.random() * 2 + "s";
      heart.style.opacity = (0.3 + Math.random() * 0.7).toFixed(2);
      heart.innerHTML = "üíó";
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }
    function createLoveMessage() {
      const message = document.createElement('div');
      message.classList.add('love-message-float');
      message.style.left = Math.random() * 80 + "vw";
      message.style.animationDuration = (5 + Math.random() * 3) + "s";
      message.style.opacity = (0.5 + Math.random() * 0.5).toFixed(2);
      // Start above the screen
      message.style.top = "-2em";
      message.textContent = loveMessages[Math.floor(Math.random() * loveMessages.length)];
      messagesContainer.appendChild(message);
      setTimeout(() => message.remove(), 8000);
    }
    setInterval(createHeart, 300);
    setInterval(createLoveMessage, 2000);

    // ===== Countdown to Next Special Date: Feb 14, 2026 =====
    const countdownEl = document.getElementById('next-countdown');
    const nextSpecialDate = new Date('2026-02-14T00:00:00');
    function updateCountdown() {
      const now = new Date();
      const diff = nextSpecialDate - now;
      if (diff <= 0) {
        countdownEl.textContent = "Today is our special day! ‚ù§Ô∏è";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      countdownEl.textContent = `Only ${days}d ${hours}h ${minutes}m ${seconds}s until our next Valentine's Day! üíù`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ===== Countdown to Meeting Date: Feb 14, 2026 =====
    const meetingCountdownEl = document.getElementById('meeting-countdown');
    const meetingDate = new Date('2026-02-14T00:00:00');
    function updateMeetingCountdown() {
      const now = new Date();
      const diff = meetingDate - now;
      if (diff <= 0) {
        meetingCountdownEl.textContent = "We have met! ‚úàÔ∏è‚ù§Ô∏è";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      meetingCountdownEl.textContent = `Only ${days}d ${hours}h ${minutes}m ${seconds}s until we meet! ‚úàÔ∏èüíï`;
    }
    updateMeetingCountdown();
    setInterval(updateMeetingCountdown, 1000);

    // ===== Modal Logic for Love Letter (FAB button) =====
    const modal = document.getElementById('modal');
    const loveLetterFab = document.getElementById('loveLetterFab');
    const closeModalBtn = document.getElementById('closeModal');

    loveLetterFab.addEventListener('click', () => {
      modal.classList.remove('close');
      modal.style.display = 'flex';
      // Force reflow to restart animation if needed
      void modal.offsetWidth;
      modal.classList.add('open');
    });

    function closeModalAnimated() {
      modal.classList.remove('open');
      modal.classList.add('close');
      setTimeout(() => {
        modal.style.display = 'none';
        modal.classList.remove('close');
      }, 350); // Match CSS animation duration
    }

    closeModalBtn.addEventListener('click', closeModalAnimated);

    window.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModalAnimated();
      }
    });

    // ===== Anniversary Popup Logic (now Welcome Popup) =====
    const anniversaryPopup = document.getElementById('anniversaryPopup');
    const closeAnniversaryPopupBtn = document.getElementById('closeAnniversaryPopup');

    function checkAndShowWelcomePopup() {
      // Generic key for the welcome popup
      const localStorageKey = 'welcomePopupShown';

      // Check if the popup has already been shown to this user
      if (!localStorage.getItem(localStorageKey)) {
        anniversaryPopup.classList.add('visible');
        // Set the flag in localStorage so it doesn't show again automatically
        localStorage.setItem(localStorageKey, 'true');
      }
    }

    if (closeAnniversaryPopupBtn) {
      closeAnniversaryPopupBtn.addEventListener('click', () => {
        anniversaryPopup.classList.add('closing'); // Add class to trigger closing animation
        // Wait for animation to finish before hiding
        setTimeout(() => {
          anniversaryPopup.classList.remove('visible');
          anniversaryPopup.classList.remove('closing'); // Reset class
        }, 400); // Duration should match animation-duration in CSS
      });
    }
    
    // Check for welcome popup when the page loads
    window.addEventListener('DOMContentLoaded', checkAndShowWelcomePopup);

  </script>
  <script>
window.addEventListener('DOMContentLoaded', () => {
  const audio       = document.getElementById('backgroundMusic');
  const playBtn     = document.getElementById('toggleBtn');
  const prevBtn     = document.getElementById('prevBtn');
  const nextBtn     = document.getElementById('nextBtn');
  const loopBtn     = document.getElementById('loopBtn');
  const progressBar = document.getElementById('progressBar');
  const progCont    = document.getElementById('progressContainer');
  const volSlider   = document.getElementById('volumeSlider');
  const volIcon     = document.querySelector('.volume-icon');
  const timeEl      = document.querySelector('.track-time');

  // If you have multiple tracks, define them here:
  const playlist = [
  { src: 'assets/music/music1.mp3', title: 'Song 1' },
  { src: 'assets/music/music2.mp3', title: 'Song 2' },
  ];
  let currentIndex = 0;

  function formatTime(sec) {
    const m = Math.floor(sec / 60).toString().padStart(2,'0');
    const s = Math.floor(sec % 60).toString().padStart(2,'0');
    return `${m}:${s}`;
  }

  function loadTrack(i) {
    const track = playlist[i];
    audio.src = track.src;
    audio.load();
    // optionally show title: document.querySelector('.track-info').textContent = track.title;
    playBtn.innerHTML = '<i class="fas fa-play"></i>';
  }

  // initialize
  loadTrack(currentIndex);
  audio.volume = volSlider.value = 0.5;
  loopBtn.classList.toggle('active', audio.loop);

  playBtn.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playBtn.innerHTML = '<i class="fas fa-pause"></i>';
    } else {
      audio.pause();
      playBtn.innerHTML = '<i class="fas fa-play"></i>';
    }
  });
  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
  });
  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
  });
  loopBtn.addEventListener('click', () => {
    audio.loop = !audio.loop;
    loopBtn.classList.toggle('active', audio.loop);
    loopBtn.style.color = audio.loop ? '#ff1493' : '';
  });

  audio.addEventListener('timeupdate', () => {
    if (!isNaN(audio.duration)) {
      const pct = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = pct + '%';
      // compute remaining:
      const remain = audio.duration - audio.currentTime;
      timeEl.textContent = `${formatTime(audio.currentTime)} / -${formatTime(remain)}`;
    }
  });

  progCont.addEventListener('click', e => {
    const rect = progCont.getBoundingClientRect();
    audio.currentTime = ((e.clientX - rect.left) / rect.width) * audio.duration;
  });

  volSlider.addEventListener('input', () => {
    audio.volume = volSlider.value;
    if (audio.volume === 0)        volIcon.className = 'fas fa-volume-mute volume-icon';
    else if (audio.volume < 0.5)   volIcon.className = 'fas fa-volume-down volume-icon';
    else                            volIcon.className = 'fas fa-volume-up volume-icon';
  });

  audio.addEventListener('ended', () => {
    if (!audio.loop) nextBtn.click();
  });

  // Set initial time display once metadata loads
  audio.addEventListener('loadedmetadata', () => {
    timeEl.textContent = `00:00 / -${formatTime(audio.duration)}`;
  });
});
</script>
<script>
    (function() {
  // 1) list your asset paths (adjust extensions if needed)
  const backgrounds = [
    'assets/background/back1.png',
    'assets/background/back2.png',
    'assets/background/back3.png'
  ];

  // 2) start on a random one (optional)
  let idx = Math.floor(Math.random() * backgrounds.length);

  // 3) function to update the body background with cache-busting
  function setBackground(i) {
    const url = `${backgrounds[i]}?v=${Date.now()}`;
    document.body.style.backgroundImage = `url('${url}')`;
  }

  // 4) initial kick-off
  setBackground(idx);

  // 5) change every N milliseconds (e.g. 10 seconds = 10000ms)
  setInterval(() => {
    idx = (idx + 1) % backgrounds.length;
    setBackground(idx);
  }, 10000);
})();
  </script>
<script>
// ===== Global Falling Hearts Animation =====
(function() {
  const globalHeartsBg = document.querySelector('.global-hearts-bg');
  function createGlobalHeart() {
    const heart = document.createElement('div');
    heart.classList.add('global-heart-float');
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (3 + Math.random() * 2) + 's';
    heart.style.opacity = (0.15 + Math.random() * 0.25).toFixed(2); // lighter for background
    heart.innerHTML = 'üíó';
    globalHeartsBg.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createGlobalHeart, 200);
})();
  </script>
<script>
// Falling hearts animation
(function() {
  const heartsBg = document.querySelector('.hearts-bg');
  const numHearts = 30;

  function randomBetween(a, b) {
    return a + Math.random() * (b - a);
  }

  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = 'üíó';
    heart.style.left = randomBetween(0, 100) + 'vw';
    heart.style.animationDuration = randomBetween(4, 8) + 's';
    heart.style.opacity = randomBetween(0.7, 1);
    heart.style.fontSize = randomBetween(1.5, 2.3) + 'rem';
    heartsBg.appendChild(heart);
    setTimeout(() => {
      heart.remove();
    }, 8000);
  }

  setInterval(createHeart, 300);
  for (let i = 0; i < numHearts; i++) {
    setTimeout(createHeart, i * 200);
  }
})();
  </script>
</body>
</html>
</html>
</body>
</html>
